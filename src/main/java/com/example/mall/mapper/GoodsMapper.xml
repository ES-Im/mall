<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mall.mapper.GoodsMapper">

	<!-- Author : 김문정 --> 
	<!-- getGoodsOne : 상품 상세보기 -->
	<select id="selectGoodsOne" parameterType="Integer" resultType="com.example.mall.vo.Goods">
		SELECT goods_no goodsNo
			, goods_title goodsTitle
			, goods_memo goodsMemo
			, goods_price goodsPrice
			, goods_status goodsStatus
			, update_date updateDate
			, create_date createDate
		FROM goods
		WHERE goods_no = #{goodsNo}
	</select>

	<!-- home : 메인 페이지 상품 리스트 출력 -->
	<select id="selectGoodsList" parameterType="map" resultType="com.example.mall.vo.Goods">
		SELECT goods_no goodsNo
			, goods_title goodsTitle
			, goods_memo goodsMemo
			, goods_price goodsPrice
			, goods_status goodsStatus
			, update_date updateDate
			, create_date createDate
		FROM goods
		<where>
			<if test="searchWord != null">
				goods_title LIKE CONCAT( '%', #{searchWord} ,'%' )
			</if>
		</where>
		LIMIT #{beginRow}, #{rowPerPage}
	</select>
	
	<!-- home : paging을 위한 lastPage -->
	<select id="selectGoodsListLastPage" resultType="Integer">
		SELECT COUNT(*)
		FROM goods
		<where>
			<if test="searchWord != null">
				goods_title LIKE CONCAT( '%', #{searchWord} ,'%' )
			</if>
		</where>
	</select>


</mapper>